<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="ZelmoTheDragon">
  <link rel="canonical" href="https://zelmothedragon.github.io/java/polymorphism/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Polymorphisme - Zelmo Academy</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Polymorphisme";
    var mkdocs_page_input_path = "java/polymorphism.md";
    var mkdocs_page_url = "/java/polymorphism/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Zelmo Academy</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Accueil</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Java</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../">Sommaire</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../platform/">Plateforme</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../packaging/">Format binaire</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../organization/">Organisation du code</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../java_bean/">Convention Java Bean</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../javadoc/">Documentation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../inheritance/">Héritage</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Polymorphisme</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cas-dusage">Cas d'usage</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#mise-en-uvre">Mise en œuvre</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#transtypage">Transtypage</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../genericity/">Généricité</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../invoke_dynamic/">Invocation Dynamique</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../functional_programming/">Programmation fonctionnelle</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../project_crud/">Projet de synthèse</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Zelmo Academy</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Java &raquo;</li>
        
      
    
    <li>Polymorphisme</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="polymorphisme">Polymorphisme</h1>
<h2 id="introduction">Introduction</h2>
<p>Le polymorphisme est un concept de la <strong>programmation orientée objet</strong>.
C'est la capacité d'un objet d'opter pour le type d'un de ces parents sans changer son comportement.</p>
<p><strong>Il permet à une instance de :</strong></p>
<ul>
<li>Changer de type par un type parent.</li>
<li>Être vues et manipulées par les autres classes comme un type parent.</li>
<li>Conserver le comportement initial de la classe malgré le changement de type.</li>
<li>Faire du faible couplage</li>
</ul>
<blockquote>
<p><strong>Note</strong></p>
<p>La notion de hiérarchie de classe doit être respectée !</p>
</blockquote>
<h2 id="cas-dusage">Cas d'usage</h2>
<p>Considérons les classes suivantes :</p>
<pre><code class="language-java">package fr.zelmoacademy.sample;

import java.time.LocalDate;
import java.time.Period;

public abstract class Pet {

    protected String name;
    protected Float size;
    protected Float weight;
    protected LocalDate birthDate;

    protected Pet() {
    }

    public abstract void talk();

    public void sleep() {
        System.out.println(&quot;...zzz...&quot;);
    }

    public final Period getAge(){
        return Period.between(LocalDate.now(), birthDate);
    }
}
</code></pre>
<pre><code class="language-java">package fr.zelmoacademy.sample;

public class Cat extends Pet {

    public Cat() {
    }

    @Override
    public void talk() {
        System.out.println(&quot;Meow&quot;);
    }

    @Override
    public void sleep() {
        System.out.println(&quot;Purrr&quot;);
    }

    public void huntMice() {
        // ...
    }
}
</code></pre>
<pre><code class="language-java">package fr.zelmoacademy.sample;

public class Dog extends Pet {

    public Dog() {
    }

    @Override
    public void talk() {
        System.out.println(&quot;Woof&quot;);
    }

    @Override
    public void sleep() {
        super.sleep();                  // Combine l'appel de la classe parent  
        System.out.println(&quot;Zzz&quot;);      // ET l'appel de la classe enfant.
    }                                   //&gt; Sortie Console:
                                        // ...zzz...
                                        // Zzz
    public void sniff() {
        // ...
    }
}
</code></pre>
<h3 id="mise-en-uvre">Mise en œuvre</h3>
<p><strong>Déclaration classique :</strong></p>
<pre><code class="language-java">Cat tom = new Cat();
// tom est de type 'Cat'.
// Toutes les méthodes de la classe 'Cat' sont accessibles.

Dog spike = new Dog();
// spike est de type 'Dog'.
// Toutes les méthodes de la classe 'Dog' sont accessibles.
</code></pre>
<pre><code>// Variante en Java 10 avec l'inférence de type:
var tom = new Cat();
var spike = new Dog();
</code></pre>
<p><strong>Déclaration polymorphique :</strong></p>
<pre><code class="language-java">Pet tom = new Cat();
// tom est de type 'Cat'.
// Uniquement les méthodes de la classe 'Pet' sont accessibles.

Pet spike = new Dog();
// tom est de type 'Dog'.
// Uniquement les méthodes de la classe 'Pet' sont accessibles.
</code></pre>
<p><strong>Faible couplage :</strong></p>
<pre><code class="language-java">// Cette méthode peut prendre en paramètre des objets de type 'Pet' ou enfant de 'Pet'.
// C'est à dire 'Cat' ou 'Dog'
public void ownerAskPet(Pet anyPet){
    anyPet.talk();
}
</code></pre>
<p>Cette méthode veut pouvoir demander à un animal de compagnie de parler, mais quel que soit l'animal en question.
De plus, la réponse de l'animal se doit d'être spécifique au type réel.</p>
<pre><code class="language-java">Cat tom = new Cat();
ownerAskPet(tom);        // Sortie console: 'Meow'

Dog spike = new Dog();
ownerAskPet(spike);      // Sortie console: 'Woof'

// Variante Java 10
var sylvestre = new Cat();
ownerAskPet(sylvestre); // Sortie console: 'Meow'
</code></pre>
<h3 id="transtypage">Transtypage</h3>
<p>Le <strong>polymorphisme</strong> permet de naturellement type une classe dans sa hiérarchie montante.
Le <strong>transtypage</strong> permet de forcer le type d'un objet vers un objet.
Il faut être prudent lors de son usage car le compilateur Java n'est pas en mesure de vérifier le typage.
Si le typage est faux, à l'exécution du programme vous aurez une erreur de type : <code>java.lang.ClassCastException</code>.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>En Java le transtypage est aussi connu sous le nom de <strong>//cast//</strong>.</p>
</blockquote>
<pre><code class="language-java">Pet tom = new Cat();  // tom est en réalité de type 'Cat'.

tom.talk();           // Méthode existante dans la classe 'Pet' OK.

tom.huntMice();
    ^^^^^^^^^^------- // Erreur de compilation:
                      // méthode inexistante dans la classe 'Pet'.

// transtypage:
Cat tomCat = (Cat) tom;
tomCat.huntMice();    // Méthode existante dans la classe 'Cat' OK.

// transtypage:
Dog tomDog = (Dog) tom;
              ^^^----- // Erreur d'exécution: 'java.lang.ClassCastException'
                       // tom n'a pas de lien avec la classe 'Dog'.

</code></pre>
<blockquote>
<p><strong>Note</strong></p>
<p>Le <strong>transtypage</strong> est du polymorphisme non naturel !
Soyez très prudent lors de son usage, si possible éviter de l'utiliser abusivement.</p>
</blockquote>
<hr />
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../genericity/" class="btn btn-neutral float-right" title="Généricité">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../inheritance/" class="btn btn-neutral" title="Héritage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/ZelmoTheDragon/ZelmoTheDragon.github.io" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../inheritance/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../genericity/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
